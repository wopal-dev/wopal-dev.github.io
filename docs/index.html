<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=manifest.json rel=manifest crossorigin=use-credentials> <meta content="Tyrann is a TypeScript HTTP API mananger. It can define typed HTTP APIs, give type hints when calling, and checks return type in runtime." name=description> <meta content="JavaScript, TypeScript, type, typing, HTTP, npm, browser, Python, Java, vscode" name=keywords> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.bd5d0af5.js"}catch(e){main="/client/legacy/client.ce27583e.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.5.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-c73c58e2.css rel=stylesheet><link href=client/index-57fdbc1f.css rel=stylesheet> <title>Tyrann IO - Home</title><style>/*!
  Theme: GitHub Dark
  Description: Dark theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-dark
  Current colors taken from GitHub's CSS
*/.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}</style> <link href=/client/client.bd5d0af5.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-c73c58e2.css rel=preload as=style><link href=/client/index.f9c76dfd.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/index-57fdbc1f.css rel=preload as=style></head> <body> <div id=sapper> <header class=svelte-1y8tn1f><a href=/ class=svelte-1y8tn1f><h1 class=svelte-1y8tn1f>Tyrann IO</h1></a> <p class="svelte-1y8tn1f description">Typed collections of HTTP APIs.</p> <div class="svelte-1y8tn1f spacing"></div> <a href=https://www.npmjs.com/package/tyrann-io class="svelte-1y8tn1f icon npm"><svg class=svelte-c8tyih viewBox="0 0 32 32" xmlns=http://www.w3.org/2000/svg><path d="M0.32 15.406v5.248h8.736v1.76h6.976v-1.76h15.649v-10.495h-31.36v5.248zM9.055 15.406v3.488h-1.76v-5.216h-1.697v5.216h-3.582v-6.976h7.039v3.488zM17.779 15.412l-0.019 3.488-3.425-0.012v1.766h-3.582v-8.736h7.039l-0.012 3.494zM29.983 15.406v3.488h-1.76v-5.216h-1.76v5.248l-1.76-0.038v-5.21h-1.697v5.216h-3.519v-6.976h10.495v3.488zM14.335 15.406v1.728h1.634v-3.457h-1.634v1.728z"></path></svg></a> <a href=https://github.com/wopal-dev/tyrann-io class="svelte-1y8tn1f icon github"><svg class=svelte-c8tyih viewBox="0 0 32 32" xmlns=http://www.w3.org/2000/svg><path d="M16 5.343c-6.196 0-11.219 5.023-11.219 11.219 0 4.957 3.214 9.162 7.673 10.645 0.561 0.103 0.766-0.244 0.766-0.54 0-0.267-0.010-1.152-0.016-2.088-3.12 0.678-3.779-1.323-3.779-1.323-0.511-1.296-1.246-1.641-1.246-1.641-1.020-0.696 0.077-0.682 0.077-0.682 1.126 0.078 1.72 1.156 1.72 1.156 1.001 1.715 2.627 1.219 3.265 0.931 0.102-0.723 0.392-1.219 0.712-1.498-2.49-0.283-5.11-1.246-5.11-5.545 0-1.226 0.438-2.225 1.154-3.011-0.114-0.285-0.501-1.426 0.111-2.97 0 0 0.941-0.301 3.085 1.15 0.894-0.25 1.854-0.373 2.807-0.377 0.953 0.004 1.913 0.129 2.809 0.379 2.14-1.453 3.083-1.15 3.083-1.15 0.613 1.545 0.227 2.685 0.112 2.969 0.719 0.785 1.153 1.785 1.153 3.011 0 4.31-2.624 5.259-5.123 5.537 0.404 0.348 0.761 1.030 0.761 2.076 0 1.5-0.015 2.709-0.015 3.079 0 0.299 0.204 0.648 0.772 0.538 4.455-1.486 7.666-5.69 7.666-10.645 0-6.195-5.023-11.219-11.219-11.219z"></path></svg></a></header> <div class="svelte-1y8tn1f header-holder"></div> <nav class=svelte-do3x39><ul class=svelte-do3x39><li class=svelte-do3x39><a href=. class=svelte-do3x39 aria-current=page>home</a></li> <li class=svelte-do3x39><a href=about class=svelte-do3x39>about</a></ul></nav> <main class=svelte-1y8tn1f> <a href=https://bundlephobia.com/package/tyrann-io@0.6.1><img alt="bundle size" height=20 src=https://img.shields.io/bundlephobia/minzip/tyrann-io width=144></a> <a href=https://www.typescriptlang.org/ ><img alt=TypeScript height=20 src=https://img.shields.io/npm/types/tyrann-io width=108></a> <h2>Introduction</h2> <h3>Overview</h3> <p>Tyrann is a TypeScript HTTP API mananger. It enables us to define HTTP APIs in the following fashion. ðŸŽ‰ </p> <pre class=hljs><code><span class=hljs-keyword>import</span> { tyrann } <span class=hljs-keyword>from</span> <span class=hljs-string>'tyrann-io'</span>;
<span class=hljs-keyword>import</span> * <span class=hljs-keyword>as</span> t <span class=hljs-keyword>from</span> <span class=hljs-string>'io-ts'</span>;

<span class=hljs-keyword>const</span> apis = <span class="function_ hljs-title">tyrann</span>({
	<span class=hljs-string>'/user/{id}'</span>: {
		<span class=hljs-attr>get</span>: {
			<span class=hljs-attr>path</span>: t.<span class="function_ hljs-title">type</span>({
				<span class=hljs-attr>id</span>: t.<span class=hljs-property>number</span>,
			}),
			<span class=hljs-attr>response</span>: {
				<span class=hljs-number>200</span>: t.<span class="function_ hljs-title">type</span>({
					<span class=hljs-attr>name</span>: t.<span class=hljs-property>string</span>,
					<span class=hljs-attr>address</span>: t.<span class=hljs-property>string</span>,
				}),
			},
		}
	},
};
</code></pre> <p>To explain a little, the above code defines an API <code>/user/{id}</code>. It takes an <code>id: number</code> as input, and should returns with an object in the following shape: </p> <pre class=hljs><code>{
	<span class=hljs-attr>name</span>: <span class=hljs-built_in>string</span>;
	<span class=hljs-attr>address</span>: <span class=hljs-built_in>string</span>;
}</code></pre> <h3>Why Tyrann IO</h3> <p>Tyrann IO is useful when we are not allowed to automatically generate a fully-typed HTTP client. A typed HTTP client is useful because a simple <code>JSON.parse(response) as UserResponse</code> doesn't check the type of response, which lets landmine into your typing. We do have ways to automatically generate a correctly typed HTTP client, such as gRPC, OpenAPI tools and GraphQL. However, sometimes the tech-stack of the serverside doesn't support sound type definition, so we have to handcode the client by ourselves. </p> <p>In reality, these problems happen:</p> <ol><li>The HTTP server doesn't generate the client (in TypeScript).</li> <li>We don't have the backend API specs.</li> <li>Simple methods like <code>JSON.parse(response) as UserResponse</code> does not guarantee runtime type safety. The server can update or change, or error, making unchecked data into the system, leading to hard-to-trace problems. </ol> <h2>Installation</h2> <pre class=hljs><code>yarn add tyrann-io
<span class=hljs-comment># OR</span>
npm i tyrann-io
</code></pre> <h2>Documentation</h2> <h3>User Guide</h3> <p>Please refer to <a href=https://github.com/wopal-dev/tyrann-io#user-guide>README.md#user-guide</a></p> <h3>API Reference</h3> <p>Please refer to <a href=https://github.com/wopal-dev/tyrann-io#api-definition>README.md#api-definition</a></p> <h2>Source Code</h2> <p>The code lives on GitHub <a href=https://github.com/wopal-dev/tyrann-io>wopal-dev/tyrann-io</a>. Issues and contributions are welcome! ðŸ‘‹ </p> </main></div> 